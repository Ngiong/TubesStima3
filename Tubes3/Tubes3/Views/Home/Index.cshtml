@{
    ViewBag.Title = "Home Page";
}

<h1>Tweets : </h1>

<div>
    @for (var i = -1; i < 6; i++)
    {
        foreach (dynamic item in ViewBag.TweetsCategorized.getListTweetFromCategory(i))
        {
            <div class="overlay">
                <div class="overlaycontent">
                    <img src=@item.getImageURL()> <br /> <h4>@item.getUserName()</h4> <br />
                    <h3>@item.getText()</h3>
                    <h3>@item.getCategory()</h3>
                    <input type="button" value="See location" onclick="@("showCoordinate('"+item.getUserName()+"')")" />
                </div>
            </div>
        }
    }
</div>

<script>
    (function ($) {
        $.fn.goTo = function () {
            $('html, body').animate({
                scrollTop: $(this).offset().top + 'px'
            }, 'fast');
            return this; // for chaining...
        }
    })(jQuery);
    function setCoordinate(a, b) {
        $('#googlemap')
          .gmap3({ action: 'init', options: { center: [52.914856, -1.447152], zoom: 14, minZoom: 8, maxZoom: 18, mapTypeId: google.maps.MapTypeId.MAP, mapTypeControl: true, navigationControl: true, streetViewControl: true, scrollwheel: true } },
          {
              action: 'addMarkers',
              markers: [{ lat: 52.914856, lng: -1.447152, data: 'Derby County Football Club' }],
              marker: {
                  options: { draggable: false },
                  events: {
                      mouseover: function (marker, event, data) {
                          var map = $(this).gmap3('get'),
                              infowindow = $(this).gmap3({ action: 'get', name: 'infowindow' });
                          if (infowindow) {
                              infowindow.open(map, marker);
                              infowindow.setContent(data);
                          } else {
                              $(this).gmap3({ action: 'addinfowindow', anchor: marker, options: { content: data } });
                          }
                      },
                      mouseout: function () {
                          var infowindow = $(this).gmap3({ action: 'get', name: 'infowindow' });
                          if (infowindow) {
                              infowindow.close();
                          }
                      }
                  }
              }
          }
        );
    }
    function showCoordinate(a) {
        $('#googlemap').goTo();
    }
</script>